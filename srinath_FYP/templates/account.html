<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="account-container">
        <h2>My Account</h2>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <p class="{{ category }}">{{ message }}</p>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form method="POST", action="/account", id="account-form">
            <label>Username:</label>
            <input type="text" name="username" value="{{ user.username }}" readonly>

            <label>Email:</label>
            <input type="email" name="email" value="{{ user.email }}" required>

            <label>First Name:</label>
            <input type="text" name="first_name" value="{{ user.first_name }}" required>

            <label>Last Name:</label>
            <input type="text" name="last_name" value="{{ user.last_name }}" required>

            <label>Phone Number:</label>
            <input type="text" name="phone_number" value="{{ user.phone_number }}">

            <label>Address:</label>
            <input type="text" name="address" value="{{ user.address }}">

            <label>City:</label>
            <input type="text" name="city" value="{{ user.city }}">

            <label>State:</label>
            <input type="text" name="state" value="{{ user.state }}">

            <label>Country:</label>
            <input type="text" name="country" value="{{ user.country }}">

            <label>Postal Code:</label>
            <input type="text" name="postal_code" value="{{ user.postal_code }}">

            <label>Date of Birth:</label>
            <input type="date" name="date_of_birth" value="{{ user.date_of_birth }}">

            <label>Gender:</label>
            <select name="gender">
                <option value="Male" {% if user.gender == "Male" %} selected {% endif %}>Male</option>
                <option value="Female" {% if user.gender == "Female" %} selected {% endif %}>Female</option>
                <option value="Other" {% if user.gender == "Other" %} selected {% endif %}>Other</option>
            </select>

            <button type="submit">Update Details</button>
        </form>

        <button class="logout-button" onclick="logout()">Logout</button>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
